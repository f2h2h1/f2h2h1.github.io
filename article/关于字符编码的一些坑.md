# 关于字符编码的一些坑

## 1 常见的字符集和编码
### 字符集
    ASCII
    GB2312
    GBK
    GB18030
    BIG5
    BIG5-HKSCS
    Unicode
    ISO-8859-1 Latin1
    ISO/IEC 10646 UCS
### 编码
    Hex
    ASCII
    EUC-CN
    UTF-8
    UTF-16
    UTF-32
    UCS-2
    UCS-4
    Base64
    UrlEncode
### Windows 代码页
    cp 936
    cp 950
    cp 65001
    cp 1252
### Windows 代码页和字符集的对应关系
代码页|字符集|备注
-|-|-|
cp 936|GBK|
cp 950|BIG5|
cp 65001|UTF-8|
cp 1252|ISO-8859-1|

## 2 常见的名词解释
### 位/比特/bit
计算机里最小的单位，只有两个值，1 和 0；一般缩写为小写 b
### 字节/拜特/byte
8 bit 等于 1 byte；一般缩写为大写 B
### 字/字符/character
在这里 字/字符 代表就是形式上的汉字或英文字母，一个字/字符就代表一个汉字或一个英文字母；一般缩写为 char
### 字符集/charset
字面上的理解就是字符的集合，是一个自然语言文字系统支持的所有抽象字符的集合。字符是各种文字和符号的总称，包括文字、数字、字母、音节、标点符号、图形符号等。计算机系统中提到的字符集准确地来说，指的是已编号的字符的有序集合(但不一定是连续的)。
### 编码/编码规则/encoding
编码就是字符所对应的二进制数字。例如，字符 `A` 在 ascii 里所对应的编码是 01000001 ，汉字 `一` 在 utf-8 里所对应的编码是 11100100 10111000 10000000 。
### 字符编码/character encoding
可以简单地理解为 字符集 + 编码

## 3 字符编码的发展历史
### ASCII 时期
这一时期字符集和编码没有区分，ASCII 只支持英文，使用 7 位代表一个字符，一个字符占一个字节，最高位为 0，多余的一位没有作用。
### 本地化时期
因为 ASCII 只支持英文，同时为了保证前向兼容，所以其它国家在 ASCII 的基础上作出各自的拓展。一般的拓展都是把 ASCII 中的最高位利用起来，ASCII 拓展的字符集中比较有影响的是 ISO 8859-1，这是拉丁字母的拓展，基本覆盖西欧各国的字母，所以也被称为 latin 1，这个字符集也是 JAVA 的默认字符集。
而汉字因为字符非常多，所以即使用了 ASCII 最高位也无法表示全部汉字，为了尽可能多地收录汉字，就出现了两个字节代表一个字符的字符集，例如 GB 2312，BIG-5，这些字符集通常被成为双字节字符集（DBCS,Double Byte Character Set）或多字节字符集（Multi Byte Character Set）。

笔者认为 ISO 8859-1 的制定是 ASCII 时期向本地化时期过渡的标志。在本地化时期，字符集和编码开始分离，但一个字符集几乎只有一个编码，所以这个时期字符编码仍是被放在一起的。
### 国际化时期
在本地化时期出现的各种 ASCII 拓展，绝大部分是互不兼容的，为了使国际间信息交流更加方便，于是由 Xerox、Apple 等软件制造商于1988年组成的统一码联盟。统一码联盟制定了 Unicode，这一能表示几乎全部字符的字符集。Unicode 定义了一个现代化的字符编码模型，把字符和编码解耦了。Unicode 是一个字符集，而实现这个字符集的编码有三种，UTF-16，UTF-32，UTF-8。刚开始时，Unicode 只有 UTF-16，这一双字节的编码，但后来发现，双字节容量仍不够大，于是就在双字节的基础上翻一倍，出现了四字节的编码，也就是 UTF-32。UTF-8 是一种可变长的编码，可以使用一到六个字节来表示一个字符，例如，兼容 ASCII 部分就是使用一个字节，常用汉字就使用两个字节，一些生僻的字符就是用四个字节或六个字节。UTF-8 是当下使用最广泛的一种编码。UTF 后面跟着的数字是代表这个编码里最少可以使用多少位来表示一个字符。

笔者认为 Unicode 的制定是本地化时期向国际化时期过渡的标志。从 Unicode 开始，字符集和编码被准确地划分。

## 4 Unicode 和 ISO 10646

## 5 中文字符集

## 6 Hex，base64 和 UrlEncode

## 7 Windows 系统下的字符编码

## 8 关于 BOM

## 9 一条短信为什么是 70 个汉字